---
title: Context Menu with submenu
category: Application
paid: false
isActive: true
ltr: {"react":{"jsxCss":[],"jsxTail":[{"label":"App.jsx","code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <div key={props.key || \"\"} role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\">\n                {children}\n            </button>\n        </div>\n    </div>\n)\n\nconst MenuItemSub = ({ children, ...props }) => (\n    <div key={props.key || \"\"} className=\"relative group\" role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\">\n                {props.item}\n                <svg className=\"w-3 h-3 text-gray-600 group-hover:text-white\" viewBox=\"0 0 10 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M0.5858 2.34317L2 0.928955L9.0711 8L2 15.0711L0.5858 13.6569L6.2427 8L0.5858 2.34317Z\" fill=\"currentColor\" />\n                </svg>\n            </button>\n        </div>\n        {children}\n    </div>\n)\n\nconst CommandItem = ({ children, className, props }) => (\n    <span {...props} className={`text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`}>\n        {children}\n    </span>\n)\n\nconst ContextMenuSubWrapper = ({ children, ...props }) => (\n    <div {...props} className=\"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\">\n        {children}\n    </div>\n)\n\nconst WrapperDevide = ({ children, ...props }) => (\n    <div {...props} className=\"pt-1.5 mt-1.5 border-t\">\n        {children}\n    </div>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n    const [submenuPosition, setSubmenuPosition] = useState(0)\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"Share\",\n                command: \"\"\n            },\n            {\n                name: \"Plugins\",\n                command: \"\",\n                submenu: [\n                    {\n                        name: \"Unsplash\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Inbox Cleaner\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Auto layout\",\n                        command: \"\"\n                    },\n                ]\n            },\n            {\n                name: \"Move to\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"Copy link\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"Rename\",\n                command: \"\"\n            },\n            {\n                name: \"Duplicate\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"Delete\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"Archieve\",\n                command: \"\"\n            },\n            {\n                name: \"Import files\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            setSubmenuPosition((pageX + (rect.width * 2)) > window.innerWidth ? (-(rect.width - 10)) : (rect.width - 10))\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = (e) => {\n        if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n            setIsActive(false)\n            document.documentElement.classList.remove(\"overflow-hidden\")\n        }\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", (e) => resetToDefault(e))\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>Right click here.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} role=\"menu\" className=\"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <div>\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    item.submenu ? (\n                                        <MenuItemSub item={item.name} key={idx}>\n                                            <ContextMenuSubWrapper style={{ transform: `translateX(${submenuPosition}px)` }}>\n                                                {item.submenu.map((item, idx) => (\n                                                    <MenuItem key={idx}>\n                                                        {item.name}\n                                                        <CommandItem>\n                                                            {item.command}\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                ))}\n                                                <WrapperDevide>\n                                                    <MenuItem>\n                                                        Find more plugins\n                                                        <CommandItem>\n                                                            Ctrl+P\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                </WrapperDevide>\n                                            </ContextMenuSubWrapper>\n                                        </MenuItemSub>\n                                    ) : (\n                                        <MenuItem key={idx}>\n                                            {item.name}\n                                            <CommandItem>\n                                                {item.command}\n                                            </CommandItem>\n                                        </MenuItem>\n                                    )\n                                ))\n                            }\n                        </div>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <WrapperDevide key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </WrapperDevide>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}"}]},"vue":{"vueCss":[],"vueTail":[]},"preview":"function App() {\n  \nconst MenuItem = ({ children, ...props }) => (\n    <div key={props.key || \"\"} role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\">\n                {children}\n            </button>\n        </div>\n    </div>\n)\n\nconst MenuItemSub = ({ children, ...props }) => (\n    <div key={props.key || \"\"} className=\"relative group\" role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\">\n                {props.item}\n                <svg className=\"w-3 h-3 text-gray-600 group-hover:text-white\" viewBox=\"0 0 10 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M0.5858 2.34317L2 0.928955L9.0711 8L2 15.0711L0.5858 13.6569L6.2427 8L0.5858 2.34317Z\" fill=\"currentColor\" />\n                </svg>\n            </button>\n        </div>\n        {children}\n    </div>\n)\n\nconst CommandItem = ({ children, className, props }) => (\n    <span {...props} className={`text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`}>\n        {children}\n    </span>\n)\n\nconst ContextMenuSubWrapper = ({ children, ...props }) => (\n    <div {...props} className=\"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\">\n        {children}\n    </div>\n)\n\nconst WrapperDevide = ({ children, ...props }) => (\n    <div {...props} className=\"pt-1.5 mt-1.5 border-t\">\n        {children}\n    </div>\n)\n\n    const contextmenuRef = React.useRef()\n    const contextmenuHandler = React.useRef()\n    const [isActive, setIsActive] = React.useState(false)\n    const [position, setPosition] = React.useState({ x: 0, y: 0 })\n    const [submenuPosition, setSubmenuPosition] = React.useState(0)\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"Share\",\n                command: \"\"\n            },\n            {\n                name: \"Plugins\",\n                command: \"\",\n                submenu: [\n                    {\n                        name: \"Unsplash\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Inbox Cleaner\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Auto layout\",\n                        command: \"\"\n                    },\n                ]\n            },\n            {\n                name: \"Move to\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"Copy link\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"Rename\",\n                command: \"\"\n            },\n            {\n                name: \"Duplicate\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"Delete\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"Archieve\",\n                command: \"\"\n            },\n            {\n                name: \"Import files\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            setSubmenuPosition((pageX + (rect.width * 2)) > window.innerWidth ? (-(rect.width - 10)) : (rect.width - 10))\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = (e) => {\n        if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n            setIsActive(false)\n            document.documentElement.classList.remove(\"overflow-hidden\")\n        }\n    }\n\n    React.useEffect(() => {\n        document.addEventListener(\"click\", (e) => resetToDefault(e))\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4 pt-12\" style={{height: \"520px\"}}>\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>Right click here.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} role=\"menu\" className=\"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <div>\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    item.submenu ? (\n                                        <MenuItemSub item={item.name} key={idx}>\n                                            <ContextMenuSubWrapper style={{ transform: `translateX(${submenuPosition}px)` }}>\n                                                {item.submenu.map((item, idx) => (\n                                                    <MenuItem key={idx}>\n                                                        {item.name}\n                                                        <CommandItem>\n                                                            {item.command}\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                ))}\n                                                <WrapperDevide>\n                                                    <MenuItem>\n                                                        Find more plugins\n                                                        <CommandItem>\n                                                            Ctrl+P\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                </WrapperDevide>\n                                            </ContextMenuSubWrapper>\n                                        </MenuItemSub>\n                                    ) : (\n                                        <MenuItem key={idx}>\n                                            {item.name}\n                                            <CommandItem>\n                                                {item.command}\n                                            </CommandItem>\n                                        </MenuItem>\n                                    )\n                                ))\n                            }\n                        </div>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <WrapperDevide key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </WrapperDevide>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}"}
rtl: {"react":{"jsxTail":[{"label":"App.jsx","code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <div key={props.key || \"\"} role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\">\n                {children}\n            </button>\n        </div>\n    </div>\n)\n\nconst MenuItemSub = ({ children, ...props }) => (\n    <div key={props.key || \"\"} className=\"relative group\" role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\">\n                {props.item}\n                <svg className=\"w-3 h-3 text-gray-600 group-hover:text-white\" viewBox=\"0 0 8 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M6.293 0.29303L0.585999 6.00003L6.293 11.707L7.707 10.293L3.414 6.00003L7.707 1.70703L6.293 0.29303Z\" fill=\"currentColor\" />\n                </svg>\n\n            </button>\n        </div>\n        {children}\n    </div>\n)\n\nconst CommandItem = ({ children, className, props }) => (\n    <span {...props} className={`text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`}>\n        {children}\n    </span>\n)\n\nconst ContextMenuSubWrapper = ({ children, ...props }) => (\n    <div {...props} className=\"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\">\n        {children}\n    </div>\n)\n\nconst WrapperDevide = ({ children, ...props }) => (\n    <div {...props} className=\"pt-1.5 mt-1.5 border-t\">\n        {children}\n    </div>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n    const [submenuPosition, setSubmenuPosition] = useState(0)\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"شارك\",\n                command: \"\"\n            },\n            {\n                name: \"اضافات\",\n                command: \"\",\n                submenu: [\n                    {\n                        name: \"Unsplash\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Inbox Cleaner\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Auto layout\",\n                        command: \"\"\n                    },\n                ]\n            },\n            {\n                name: \"نقل\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"نسخ الرابط\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"إعادة تسمية\",\n                command: \"\"\n            },\n            {\n                name: \"كرر\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"حذف\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"ارشفة\",\n                command: \"\"\n            },\n            {\n                name: \"استيراد الملفات\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            setSubmenuPosition(pageX - rect.width < 0 ? rect.width - 10 : -(rect.width - 10))\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = (e) => {\n        if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n            setIsActive(false)\n            document.documentElement.classList.remove(\"overflow-hidden\")\n        }\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", (e) => resetToDefault(e))\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>انقر بزر الماوس الأيمن هنا.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} role=\"menu\" className=\"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <div>\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    item.submenu ? (\n                                        <MenuItemSub item={item.name} key={idx}>\n                                            <ContextMenuSubWrapper style={{ left: `${submenuPosition}px` }}>\n                                                {item.submenu.map((item, idx) => (\n                                                    <MenuItem key={idx}>\n                                                        {item.name}\n                                                        <CommandItem>\n                                                            {item.command}\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                ))}\n                                                <WrapperDevide>\n                                                    <MenuItem>\n                                                        ايجاد المزيد\n                                                        <CommandItem>\n                                                            Ctrl+P\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                </WrapperDevide>\n                                            </ContextMenuSubWrapper>\n                                        </MenuItemSub>\n                                    ) : (\n                                        <MenuItem key={idx}>\n                                            {item.name}\n                                            <CommandItem>\n                                                {item.command}\n                                            </CommandItem>\n                                        </MenuItem>\n                                    )\n                                ))\n                            }\n                        </div>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <WrapperDevide key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </WrapperDevide>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}"}],"jsxCss":[]},"preview":"function App() {\n  \nconst MenuItem = ({ children, ...props }) => (\n    <div key={props.key || \"\"} role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group/item cursor-default\">\n                {children}\n            </button>\n        </div>\n    </div>\n)\n\nconst MenuItemSub = ({ children, ...props }) => (\n    <div key={props.key || \"\"} className=\"relative group\" role=\"menuitem\">\n        <div className=\"px-2\">\n            <button {...props} className=\"menu-item-sub w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white group-hover:text-white hover:bg-blue-600 active:bg-blue-500 group-hover:bg-blue-600 rounded-lg duration-150 cursor-default\">\n                {props.item}\n                <svg className=\"w-3 h-3 text-gray-600 group-hover:text-white\" viewBox=\"0 0 8 12\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M6.293 0.29303L0.585999 6.00003L6.293 11.707L7.707 10.293L3.414 6.00003L7.707 1.70703L6.293 0.29303Z\" fill=\"currentColor\" />\n                </svg>\n\n            </button>\n        </div>\n        {children}\n    </div>\n)\n\nconst CommandItem = ({ children, className, props }) => (\n    <span {...props} className={`text-gray-500 duration-150 group-hover/item:text-white ${className || \"\"}`}>\n        {children}\n    </span>\n)\n\nconst ContextMenuSubWrapper = ({ children, ...props }) => (\n    <div {...props} className=\"absolute top-0 z-10 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800 hidden group-hover:block\">\n        {children}\n    </div>\n)\n\nconst WrapperDevide = ({ children, ...props }) => (\n    <div {...props} className=\"pt-1.5 mt-1.5 border-t\">\n        {children}\n    </div>\n)\n\n    const contextmenuRef = React.useRef()\n    const contextmenuHandler = React.useRef()\n    const [isActive, setIsActive] = React.useState(false)\n    const [position, setPosition] = React.useState({ x: 0, y: 0 })\n    const [submenuPosition, setSubmenuPosition] = React.useState(0)\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"شارك\",\n                command: \"\"\n            },\n            {\n                name: \"اضافات\",\n                command: \"\",\n                submenu: [\n                    {\n                        name: \"Unsplash\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Inbox Cleaner\",\n                        command: \"\"\n                    },\n                    {\n                        name: \"Auto layout\",\n                        command: \"\"\n                    },\n                ]\n            },\n            {\n                name: \"نقل\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"نسخ الرابط\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"إعادة تسمية\",\n                command: \"\"\n            },\n            {\n                name: \"كرر\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"حذف\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"ارشفة\",\n                command: \"\"\n            },\n            {\n                name: \"استيراد الملفات\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            setSubmenuPosition(pageX - rect.width < 0 ? rect.width - 10 : -(rect.width - 10))\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = (e) => {\n        if (e && e.target && !e.target.closest(\".menu-item-sub\")) {\n            setIsActive(false)\n            document.documentElement.classList.remove(\"overflow-hidden\")\n        }\n    }\n\n    React.useEffect(() => {\n        document.addEventListener(\"click\", (e) => resetToDefault(e))\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4 pt-12\" style={{height: \"520px\"}}>\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>انقر بزر الماوس الأيمن هنا.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} role=\"menu\" className=\"fixed z-10 opacity-0 max-w-[17rem] w-full py-1.5 rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <div>\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    item.submenu ? (\n                                        <MenuItemSub item={item.name} key={idx}>\n                                            <ContextMenuSubWrapper style={{ left: `${submenuPosition}px` }}>\n                                                {item.submenu.map((item, idx) => (\n                                                    <MenuItem key={idx}>\n                                                        {item.name}\n                                                        <CommandItem>\n                                                            {item.command}\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                ))}\n                                                <WrapperDevide>\n                                                    <MenuItem>\n                                                        ايجاد المزيد\n                                                        <CommandItem>\n                                                            Ctrl+P\n                                                        </CommandItem>\n                                                    </MenuItem>\n                                                </WrapperDevide>\n                                            </ContextMenuSubWrapper>\n                                        </MenuItemSub>\n                                    ) : (\n                                        <MenuItem key={idx}>\n                                            {item.name}\n                                            <CommandItem>\n                                                {item.command}\n                                            </CommandItem>\n                                        </MenuItem>\n                                    )\n                                ))\n                            }\n                        </div>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <WrapperDevide key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </WrapperDevide>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","vue":{"vueTail":[],"vueCss":[]}}
slug: /context-menus
id: 9b6a3637-f510-4c9c-9963-423e9edb1d58
created_at: 1683145985954
---