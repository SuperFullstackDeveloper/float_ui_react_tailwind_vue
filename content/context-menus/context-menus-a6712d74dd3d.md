---
title: Basic Context Menu
category: Application
paid: false
isActive: true
ltr: {"preview":"function App() {\nconst MenuItem = ({ children, ...props }) => (\n    <li key={props.key || \"\"}>\n        <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\" role=\"menuitem\">\n            {children}\n        </button>\n    </li>\n)\n\nconst CommandItem = ({ children, ...props }) => (\n    <span {...props} className=\"text-gray-500 group-hover:text-white duration-150\">\n        {children}\n    </span>\n)\n\n    const contextmenuRef = React.useRef()\n    const contextmenuHandler = React.useRef()\n    const [isActive, setIsActive] = React.useState(false)\n    const [position, setPosition] = React.useState({ x: 0, y: 0 })\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"Share\",\n                command: \"\"\n            },\n            {\n                name: \"Get link\",\n                command: \"\"\n            },\n            {\n                name: \"Move to\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"Copy link\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"Rename\",\n                command: \"\"\n            },\n            {\n                name: \"Duplicate\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"Delete\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"Archieve\",\n                command: \"\"\n            },\n            {\n                name: \"Import files\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = () => {\n        setIsActive(false)\n        document.documentElement.classList.remove(\"overflow-hidden\")\n    }\n\n    React.useEffect(() => {\n        document.addEventListener(\"click\", () => resetToDefault())\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4 pt-12\" style={{height: \"520px\"}}>\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>Right click here.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} className=\"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <ul className=\"px-2 py-1.5\" role=\"menu\">\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))\n                            }\n                        </ul>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <ul className=\"px-2 py-1.5 border-t\" role=\"menu\" key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </ul>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","vue":{"vueCss":[],"vueTail":[]},"react":{"jsxCss":[],"jsxTail":[{"label":"App.jsx","code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <li key={props.key || \"\"}>\n        <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\" role=\"menuitem\">\n            {children}\n        </button>\n    </li>\n)\n\nconst CommandItem = ({ children, ...props }) => (\n    <span {...props} className=\"text-gray-500 group-hover:text-white duration-150\">\n        {children}\n    </span>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"Share\",\n                command: \"\"\n            },\n            {\n                name: \"Get link\",\n                command: \"\"\n            },\n            {\n                name: \"Move to\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"Copy link\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"Rename\",\n                command: \"\"\n            },\n            {\n                name: \"Duplicate\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"Delete\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"Archieve\",\n                command: \"\"\n            },\n            {\n                name: \"Import files\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = () => {\n        setIsActive(false)\n        document.documentElement.classList.remove(\"overflow-hidden\")\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", () => resetToDefault())\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>Right click here.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} className=\"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <ul className=\"px-2 py-1.5\" role=\"menu\">\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))\n                            }\n                        </ul>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <ul className=\"px-2 py-1.5 border-t\" role=\"menu\" key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </ul>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}"}]}}
rtl: {"preview":"function App() {\nconst MenuItem = ({ children, ...props }) => (\n    <li key={props.key || \"\"}>\n        <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\" role=\"menuitem\">\n            {children}\n        </button>\n    </li>\n)\n\nconst CommandItem = ({ children, ...props }) => (\n    <span {...props} className=\"text-gray-500 group-hover:text-white duration-150\">\n        {children}\n    </span>\n)\n\n    const contextmenuRef = React.useRef()\n    const contextmenuHandler = React.useRef()\n    const [isActive, setIsActive] = React.useState(false)\n    const [position, setPosition] = React.useState({ x: 0, y: 0 })\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"شارك\",\n                command: \"\"\n            },\n            {\n                name: \"خذ رابط\",\n                command: \"\"\n            },\n            {\n                name: \"نقل\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"نسخ الرابط\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"إعادة تسمية\",\n                command: \"\"\n            },\n            {\n                name: \"كرر\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"حذف\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"ارشفة\",\n                command: \"\"\n            },\n            {\n                name: \"استيراد الملفات\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = () => {\n        setIsActive(false)\n        document.documentElement.classList.remove(\"overflow-hidden\")\n    }\n\n    React.useEffect(() => {\n        document.addEventListener(\"click\", () => resetToDefault())\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4 pt-12\" style={{height: \"520px\"}}>\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>انقر بزر الماوس الأيمن هنا.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} className=\"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <ul className=\"px-2 py-1.5\" role=\"menu\">\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))\n                            }\n                        </ul>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <ul className=\"px-2 py-1.5 border-t\" role=\"menu\" key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </ul>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","react":{"jsxTail":[{"code":"import { useEffect, useRef, useState } from \"react\"\n\nconst MenuItem = ({ children, ...props }) => (\n    <li key={props.key || \"\"}>\n        <button {...props} className=\"w-full flex items-center justify-between gap-x-2 px-2 py-1.5 hover:text-white hover:bg-blue-600 active:bg-blue-500 rounded-lg duration-150 group cursor-default\" role=\"menuitem\">\n            {children}\n        </button>\n    </li>\n)\n\nconst CommandItem = ({ children, ...props }) => (\n    <span {...props} className=\"text-gray-500 group-hover:text-white duration-150\">\n        {children}\n    </span>\n)\n\nexport default () => {\n\n    const contextmenuRef = useRef()\n    const contextmenuHandler = useRef()\n    const [isActive, setIsActive] = useState(false)\n    const [position, setPosition] = useState({ x: 0, y: 0 })\n\n    const menuItems = {\n        group_1: [\n            {\n                name: \"شارك\",\n                command: \"\"\n            },\n            {\n                name: \"خذ رابط\",\n                command: \"\"\n            },\n            {\n                name: \"نقل\",\n                command: \"Ctrl+M\"\n            },\n        ],\n        group_2: [\n            {\n                name: \"نسخ الرابط\",\n                command: \"Ctrl+C\"\n            },\n        ],\n        group_3: [\n            {\n                name: \"إعادة تسمية\",\n                command: \"\"\n            },\n            {\n                name: \"كرر\",\n                command: \"\"\n            },\n        ],\n        group_4: [\n            {\n                name: \"حذف\",\n                command: \"Ctrl+D\"\n            },\n            {\n                name: \"ارشفة\",\n                command: \"\"\n            },\n            {\n                name: \"استيراد الملفات\",\n                command: \"\"\n            },\n        ],\n    }\n\n    const handlecontextMenu = (e) => {\n        e.preventDefault()\n        const { pageX, pageY } = e\n        setIsActive(true)\n        setTimeout(() => {\n            const rect = contextmenuRef.current.getBoundingClientRect();\n            const x = (pageX + rect.width) > window.innerWidth ? (window.innerWidth - rect.width) : pageX + 2;\n            const y = (pageY + rect.height) > window.innerHeight ? (window.innerHeight - rect.height) : pageY + 2;\n            setPosition({ x, y })\n            contextmenuRef.current.classList.remove(\"opacity-0\")\n            document.documentElement.classList.add(\"overflow-hidden\")\n        }, 100)\n    }\n\n    const resetToDefault = () => {\n        setIsActive(false)\n        document.documentElement.classList.remove(\"overflow-hidden\")\n    }\n\n    useEffect(() => {\n        document.addEventListener(\"click\", () => resetToDefault())\n        document.addEventListener(\"contextmenu\", (e) => {\n            if (contextmenuHandler.current && !contextmenuHandler.current.contains(e.target)) resetToDefault()\n        })\n    }, [])\n\n\n    return (\n        <main className=\"px-4\">\n            {/* Card */}\n            <div ref={contextmenuHandler} onContextMenu={handlecontextMenu} className=\"max-w-sm h-32 mx-auto mt-12 rounded-lg border border-dashed bg-gray-50 text-sm flex items-center justify-center select-none text-gray-600\">\n                <p>انقر بزر الماوس الأيمن هنا.</p>\n            </div>\n            {/* The context menu */}\n            {\n                isActive ? (\n                    <div ref={contextmenuRef} className=\"fixed z-10 opacity-0 max-w-[17rem] w-full rounded-lg bg-white shadow-md border text-sm text-gray-800\" style={{ top: `${position.y}px`, left: `${position.x}px` }}>\n                        <ul className=\"px-2 py-1.5\" role=\"menu\">\n                            {\n                                menuItems.group_1.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))\n                            }\n                        </ul>\n                        {[menuItems.group_2, menuItems.group_3, menuItems.group_4].map((group, i) => (\n                            <ul className=\"px-2 py-1.5 border-t\" role=\"menu\" key={i}>\n                                {group.map((item, idx) => (\n                                    <MenuItem key={idx}>\n                                        {item.name}\n                                        <CommandItem>\n                                            {item.command}\n                                        </CommandItem>\n                                    </MenuItem>\n                                ))}\n                            </ul>\n                        ))}\n                    </div>\n                ) : \"\"\n            }\n        </main>\n    )\n}","label":"App.jsx"}],"jsxCss":[]},"vue":{"vueTail":[],"vueCss":[]}}
slug: /context-menus
id: c4f633ab-f487-47c6-80e0-a6712d74dd3d
created_at: 1682973538578
---